Patch by MSP-Greg
Changes to allow tests to pass when run parallel on Appveyor.
Changes often involve setting timeouts longer to allow disk I/O
diff --git a/test/ruby/test_file_exhaustive.rb b/test/ruby/test_file_exhaustive.rb
index 4c5540eb4c..f087ccbc1b 100644
--- a/test/ruby/test_file_exhaustive.rb
+++ b/test/ruby/test_file_exhaustive.rb
@@ -1316,7 +1316,7 @@ def test_flock_exclusive
       assert_separately(["-rtimeout", "-", regular_file], "#{<<~begin}#{<<~"end;"}")
       begin
         open(ARGV[0], "r") do |f|
-          Timeout.timeout(0.1) do
+          Timeout.timeout(NTFS ? 0.5 : 0.1) do
             assert(!f.flock(File::LOCK_SH|File::LOCK_NB))
           end
         end
@@ -1342,7 +1342,7 @@ def test_flock_shared
       assert_separately(["-rtimeout", "-", regular_file], "#{<<~begin}#{<<~"end;"}")
       begin
         open(ARGV[0], "r") do |f|
-          Timeout.timeout(0.1) do
+          Timeout.timeout(NTFS ? 0.5 : 0.1) do
             assert(f.flock(File::LOCK_SH))
           end
         end
@@ -1351,7 +1351,7 @@ def test_flock_shared
       begin
         open(ARGV[0], "r+") do |f|
           assert_raise(Timeout::Error) do
-            Timeout.timeout(0.1) do
+            Timeout.timeout(NTFS ? 0.5 : 0.1) do
               f.flock(File::LOCK_EX)
             end
           end
